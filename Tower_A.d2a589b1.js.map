{"mappings":"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","sources":["JS/enquiry_data.js"],"sourcesContent":["const scriptURL = \"https://script.google.com/macros/s/AKfycbzK8mD3jIf-PV3SYlCTpShqk4dYqNyvJX9Ki-Hu01KrVTY6Iq1AA7mOCBQ_Tn5mJsbJaw/exec\";\r\n\r\n(function handleEnquiryForm() {\r\n    const form = document.getElementById(\"enquiryForm\");\r\n    const agree = document.getElementById(\"agree\");\r\n    const submitBtn = form?.querySelector(\".submit\");\r\n    if (!form) return;\r\n\r\n    function setFormBusy(isBusy) {\r\n        if (!submitBtn) return;\r\n        submitBtn.setAttribute(\"aria-busy\", isBusy ? \"true\" : \"false\");\r\n        [...form.elements].forEach(el => el.disabled = isBusy);\r\n    }\r\n\r\n    // optional: accessible announcements\r\n    function announce(msg) {\r\n        let live = document.getElementById(\"live-region\");\r\n        if (!live) {\r\n            live = document.createElement(\"div\");\r\n            live.id = \"live-region\";\r\n            live.setAttribute(\"aria-live\", \"polite\");\r\n            live.setAttribute(\"aria-atomic\", \"true\");\r\n            live.style.position = \"absolute\";\r\n            live.style.left = \"-9999px\";\r\n            document.body.appendChild(live);\r\n        }\r\n        live.textContent = msg;\r\n    }\r\n\r\n    form.addEventListener(\"submit\", async (e) => {\r\n        e.preventDefault();\r\n        if (!agree.checked) {\r\n            // no popups — just a quick native alert or do nothing\r\n            alert(\"Please agree to the Privacy Policy and Terms & Conditions.\");\r\n            return;\r\n        }\r\n\r\n        const fd = new FormData(form);\r\n        fd.append(\"page_title\", document.title);\r\n        fd.append(\"page_url\", location.href);\r\n        fd.append(\"page_path\", location.pathname);\r\n        fd.append(\"referrer\", document.referrer || \"\");\r\n        fd.append(\"tower\", sessionStorage.getItem(\"lastTower\") || \"\");\r\n        fd.append(\"floor_name\", sessionStorage.getItem(\"lastFloorName\") || \"\");\r\n        fd.append(\"floor_link\", sessionStorage.getItem(\"lastFloorLink\") || \"\");\r\n\r\n        const params = new URLSearchParams(location.search);\r\n        [\"utm_source\", \"utm_medium\", \"utm_campaign\", \"utm_term\", \"utm_content\"].forEach(k => {\r\n            if (params.has(k)) fd.append(k, params.get(k));\r\n        });\r\n\r\n        // Start spinner\r\n        setFormBusy(true);\r\n        announce(\"Submitting…\");\r\n\r\n        try {\r\n            const res = await fetch(scriptURL, { method: \"POST\", body: fd });\r\n            if (!res.ok) throw new Error(\"Network response was not ok\");\r\n\r\n            // Success: stop spinner, reset, close the enquiry overlay\r\n            form.reset();\r\n            if (agree) agree.checked = false;\r\n            hideEnquiryOverlay();\r\n            announce(\"Submitted.\");\r\n            // (no popup shown)\r\n        } catch (err) {\r\n            console.error(err);\r\n            // If you want zero popups, you can still show a native alert here,\r\n            // or just log. Uncomment next line if you want a message:\r\n            // alert(\"Something went wrong. Please try again.\");\r\n        } finally {\r\n            setFormBusy(false); // stop spinner\r\n        }\r\n    });\r\n    (function () {\r\n        const overlay = document.getElementById('enquiryOverlay');\r\n        const openBtn = document.getElementById('openEnquiry');\r\n        const closeBtn = document.getElementById('closeBtn');\r\n\r\n        if (!overlay || !openBtn || !closeBtn) return;\r\n\r\n        openBtn.addEventListener('click', (e) => {\r\n            e.stopPropagation();\r\n            showEnquiryOverlay();\r\n        });\r\n\r\n        closeBtn.addEventListener('click', hideEnquiryOverlay);\r\n\r\n        overlay.addEventListener('click', (e) => {\r\n            if (!e.target.closest('.modal')) hideEnquiryOverlay();\r\n        });\r\n    })();\r\n    function showEnquiryOverlay() {\r\n        const overlay = document.getElementById('enquiryOverlay');\r\n        if (!overlay) return;\r\n        overlay.style.display = 'flex';\r\n        overlay.setAttribute('aria-hidden', 'false');\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    function hideEnquiryOverlay() {\r\n        const overlay = document.getElementById('enquiryOverlay');\r\n        if (!overlay) return;\r\n        overlay.style.display = 'none';\r\n        overlay.setAttribute('aria-hidden', 'true');\r\n        document.body.style.overflow = '';\r\n    }\r\n\r\n})();\r\n\r\n\r\n"],"names":[],"version":3,"file":"Tower_A.d2a589b1.js.map","sourceRoot":"/__parcel_source_root/"}