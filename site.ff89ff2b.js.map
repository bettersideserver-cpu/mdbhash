{"mappings":"AAAA,kBAAkB;AACjB,CAAA;IACG,SAAS,cAAc,IAAI;QACvB,MAAM,MAAM,SAAS,aAAa,CAAC,KAAK,WAAW,IAAI;QACvD,MAAM,QAAQ,SAAS,aAAa,CAAC,KAAK,aAAa,IAAI;QAC3D,IAAI,CAAC,OAAO,CAAC,OAAO;QAEpB,kDAAkD;QAClD,MAAM,gBAAgB,CAAC,cAAc,OAAO,CAAC,CAAA,IAAK,EAAE,MAAM;QAE1D,MAAM,CAAC,MAAM,KAAK,GAAG,KAAK,OAAO,IAAI;YAAC;YAAM;SAAK;QACjD,MAAM,QAAQ,IAAI,gBAAgB,CAAC;QACnC,MAAM,SAAU,KAAK,SAAS,IAAI,CAAC;QAEnC,MAAM,OAAO,CAAC,CAAA;YACV,MAAM,KAAK,KAAK,EAAE,IAAI,KAAK,YAAY,CAAC,gBAAgB;YACxD,MAAM,QAAQ,AAAC,CAAA,KAAK,YAAY,CAAC,gBAAgB,EAAC,EAAG,UAAU,CAAC,KAAK;YAErE,0DAA0D;YAC1D,IAAI,SAAS;YACb,IAAI,MAAM,CAAC,GAAG,EAAE;gBACZ,UAAU,MAAM,CAAC,GAAG,CAAC,IAAI;gBACzB,SAAS,MAAM,CAAC,GAAG,CAAC,GAAG;YAC3B,OAAO;gBACH,gCAAgC;gBAChC,MAAM,IAAI,KAAK,OAAO;gBACtB,UAAU,AAAE,CAAA,EAAE,CAAC,GAAG,EAAE,KAAK,GAAG,CAAA,IAAK,OAAQ;gBACzC,SAAS,AAAE,CAAA,EAAE,CAAC,GAAG,EAAE,MAAM,GAAG,CAAA,IAAK,OAAQ;YAC7C;YAEA,YAAY;YACZ,MAAM,MAAM,SAAS,aAAa,CAAC;YACnC,IAAI,SAAS,GAAG;YAChB,IAAI,KAAK,CAAC,IAAI,GAAG,UAAU;YAC3B,IAAI,KAAK,CAAC,GAAG,GAAG,SAAS;YAEzB,MAAM,QAAQ,SAAS,aAAa,CAAC;YACrC,MAAM,SAAS,GAAG;YAElB,MAAM,MAAM,SAAS,aAAa,CAAC;YACnC,IAAI,IAAI,GAAG;YACX,IAAI,SAAS,GAAG;YAChB,IAAI,KAAK,GAAG;YACZ,IAAI,SAAS,GAAG;YAEhB,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,SAAS,GAAG;YACjB,KAAK,WAAW,GAAG;YAEnB,mDAAmD;YACnD,IAAI,gBAAgB,CAAC,SAAS,CAAC;gBAC3B,EAAE,eAAe;gBACjB,KAAK,aAAa,CAAC,IAAI,WAAW,SAAS;oBAAE,SAAS;gBAAK;YAC/D;YAEA,MAAM,WAAW,CAAC;YAClB,MAAM,WAAW,CAAC;YAClB,IAAI,WAAW,CAAC;YAChB,MAAM,WAAW,CAAC;QACtB;IACJ;IAEA,OAAO,aAAa,GAAG;AAC3B,CAAA","sources":["JS/TowerPins.js"],"sourcesContent":["// JS/TowerPins.js\r\n(function () {\r\n    function initTowerPins(opts) {\r\n        const svg = document.querySelector(opts.svgSelector || '.Cutout svg');\r\n        const layer = document.querySelector(opts.layerSelector || '#hsLayer');\r\n        if (!svg || !layer) return;\r\n\r\n        // purge previous pins so re-inits donâ€™t duplicate\r\n        layer.querySelectorAll('.tower-pin').forEach(n => n.remove());\r\n\r\n        const [VB_W, VB_H] = opts.viewBox || [3840, 5830];\r\n        const paths = svg.querySelectorAll('path');\r\n        const posMap = (opts.positions || {});\r\n\r\n        paths.forEach(path => {\r\n            const id = path.id || path.getAttribute('data-name') || 'Pin';\r\n            const label = (path.getAttribute('data-name') || id).replaceAll('_', ' ');\r\n\r\n            // Manual position override if provided: { left:%, top:% }\r\n            let leftPct, topPct;\r\n            if (posMap[id]) {\r\n                leftPct = posMap[id].left;\r\n                topPct = posMap[id].top;\r\n            } else {\r\n                // fallback: center of path bbox\r\n                const b = path.getBBox();\r\n                leftPct = ((b.x + b.width / 2) / VB_W) * 100;\r\n                topPct = ((b.y + b.height / 2) / VB_H) * 100;\r\n            }\r\n\r\n            // Build pin\r\n            const pin = document.createElement('div');\r\n            pin.className = 'tower-pin';\r\n            pin.style.left = leftPct + '%';\r\n            pin.style.top = topPct + '%';\r\n\r\n            const stack = document.createElement('div');\r\n            stack.className = 'tower-pin__stack';\r\n\r\n            const btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'tower-pin__btn';\r\n            btn.title = label;\r\n            btn.innerHTML = '<span class=\"tower-pin__dot\"></span>';\r\n\r\n            const name = document.createElement('div');\r\n            name.className = 'tower-pin__label';\r\n            name.textContent = label;\r\n\r\n            // Click pin = click path (reuses your modal logic)\r\n            btn.addEventListener('click', (e) => {\r\n                e.stopPropagation();\r\n                path.dispatchEvent(new MouseEvent('click', { bubbles: true }));\r\n            });\r\n\r\n            stack.appendChild(btn);\r\n            stack.appendChild(name);\r\n            pin.appendChild(stack);\r\n            layer.appendChild(pin);\r\n        });\r\n    }\r\n\r\n    window.initTowerPins = initTowerPins;\r\n})();\r\n"],"names":[],"version":3,"file":"site.ff89ff2b.js.map","sourceRoot":"/__parcel_source_root/"}